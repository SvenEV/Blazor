@inherits StandaloneApp.UI.UIElement

<div style="@LayoutCss">

    <div style="width: @(Bounds.Width)px; height: @(Bounds.Height)px;
         background-color: @BackgroundColor;
         border-color: @BorderColor; border-style: solid;
         border-width: @(BorderThickness.Top)px @(BorderThickness.Right)px @(BorderThickness.Bottom)px @(BorderThickness.Left)px;
         border-radius: @(CornerRadius.Top)px @(CornerRadius.Right)px @(CornerRadius.Bottom)px @(CornerRadius.Left)px;">
    </div>

    @ChildContent
</div>

@functions{

    public Thickness Padding { get; set; } = Thickness.Zero;

    public Thickness BorderThickness { get; set; } = Thickness.Zero;

    public Thickness CornerRadius { get; set; } = Thickness.Zero;

    public string BackgroundColor { get; set; } = "none";

    public string BorderColor { get; set; } = "none";

    protected override Point MeasureOverride(Point availableSize)
    {
        var childSize = Children.FirstOrDefault()?
            .Measure(availableSize - Padding.Size - BorderThickness.Size) ?? Point.Zero;

        return childSize + Padding.Size + BorderThickness.Size;
    }

    protected override Point ArrangeOverride(Point finalSize)
    {
        Children.FirstOrDefault()?.Arrange(new Rect(
            Padding.TopLeft + BorderThickness.TopLeft,
            finalSize - Padding.Size - BorderThickness.Size));

        return finalSize;
    }
}