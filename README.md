# Xamzor
### _E**x**tensible **A**pplication **M**arkup for Bla**zor**_

Xamzor is an experimental project in which I try to prototype a set of reusable Blazor components that are familiar to XAML developers.

The [Xamzor components](https://github.com/SvenEV/Blazor/tree/xamzor/samples/StandaloneApp/UI) and [some examples](https://github.com/SvenEV/Blazor/blob/xamzor/samples/StandaloneApp/Pages/Index.cshtml) are implemented in the "StandaloneApp" project.

### Goals
* Provide WPF-style layout primitives including `Grid`, `StackPanel` and `Border`, supporting properties like  `Width`, `Height`, `HorizontalAlignment`, `VerticalAlignment`, `Margin` and more

* Render to HTML, but don't rely on CSS layout like grid or flexbox. Instead, layout calculations are done in C# and mapped to simple absolute positioning in CSS. Added benefit: Consistency across browsers!

* Be a library, not a framework

* Ideally Xamzor should allow mixing-and-matching Xamzor components and "normal" HTML. Layouting may get tricky, though.

### Non-Goals
* Be 100% syntax-compatible to XAML
* Replicate WPF features for scenarios that can be solved more elegantly in Razor (e.g. we don't need `{Binding}` or `ICommand`)

### Why is this a Blazor fork and not just a library?
Currently, Blazor is missing some "features" required for this project:
1. Xamzor components need to know about their children in order to call the usual `Measure`/`Arrange` methods on them. [I have hacked together some code](https://github.com/SvenEV/Blazor/blob/xamzor/src/Microsoft.AspNetCore.Blazor/SvensComponentExtensions.cs#L40) that analyzes a series of `RenderFrames` to determine the children of a component. It's really hacky.

1. The type of attribute values currently has to match the property type exactly. This prevents writing things like `<Border Margin="10"/>` where property `Margin` is of type `Thickness` (not `int`). [I have relaxed this limitation by adding an explicit cast](https://github.com/SvenEV/Blazor/blob/xamzor/src/Microsoft.AspNetCore.Blazor.Razor.Extensions/BlazorRuntimeNodeWriter.cs#L488) to the property type for each `AddAttribute()`-call generated by Blazor compiler. This way, the example above translates to `builder.AddAttribute(1, "Margin", (Thickness)10)`, allowing us to implement a cast operator from `int` to `Thickness`.

All my modifications to Blazor can be found by searching for "Sven".

# About Blazor
Blazor is "an experimental web UI framework using C#/Razor and HTML, running in the browser via WebAssembly". It is an experimental project from the ASP.NET team at Microsoft.

[**Read the official README at the source repository**](https://github.com/aspnet/Blazor)
