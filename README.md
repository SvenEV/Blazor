# Xamzor
### _E**x**tensible **A**pplication **M**arkup for Bla**zor**_

Xamzor is an experimental project in which I try to prototype a set of reusable Blazor components that are familiar to XAML developers.

The [Xamzor components](https://github.com/SvenEV/Blazor/tree/xamzor/samples/Xamzor/UI/Components) and [some examples](https://github.com/SvenEV/Blazor/blob/xamzor/samples/StandaloneApp/Pages) are implemented in the "StandaloneApp" project.

ðŸ‘‰ **[Try the Live Demo](http://xamzor.azurewebsites.net/)**  
*(this always runs the latest commit and may therefore be broken from time to time)*

## Goals
* Provide WPF-style layout primitives including `Grid`, `StackPanel` and `Border`, supporting properties like  `Width`, `Height`, `HorizontalAlignment`, `VerticalAlignment`, `Margin` and more

* Render to HTML, but don't rely on CSS layout like grid or flexbox. Instead, layout calculations are done in C# and mapped to simple absolute positioning in CSS. Added benefit: Consistency across browsers!

* Be a library, not a framework

* Ideally Xamzor should allow mixing-and-matching Xamzor components and "normal" HTML. Layouting may get tricky, though.

## Non-Goals
* I don't want Xamzor markup to be 100% syntax-compatible to XAML. In many ways, Razor syntax is more flexible than XAML.
* I don't want to replicate WPF features for scenarios that can be solved more elegantly in Razor (e.g. we don't need `{Binding}` or `ICommand`)

## Why is this a Blazor fork and not just a library?
Currently, Blazor is missing some "features" required for this project:
1. Xamzor components need to know about their children in order to call the usual `Measure`/`Arrange` methods on them. I have hacked together some code that keeps track of parent and child component IDs in `ComponentState`.

1. The type of attribute values currently has to match the property type exactly. This prevents writing things like `<Border Margin="10"/>` where property `Margin` is of type `Thickness` (not `int`). [I have relaxed this limitation by adding an explicit cast](https://github.com/SvenEV/Blazor/blob/xamzor/src/Microsoft.AspNetCore.Blazor.Razor.Extensions/BlazorRuntimeNodeWriter.cs#L488) to the property type for each `AddAttribute()`-call generated by Blazor compiler. This way, the example above translates to `builder.AddAttribute(1, "Margin", (Thickness)10)`, allowing us to implement a cast operator from `int` to `Thickness`.

# About Blazor
Blazor is "an experimental web UI framework using C#/Razor and HTML, running in the browser via WebAssembly". It is a project from the ASP.NET team at Microsoft. Even if you are not a fan of my work, you should definitely check out Blazor.

[**Read the official Blazor README at the source repository**](https://github.com/aspnet/Blazor)
